"0","# Reshape data into a list where each element is a respondent's data"
"0","resp_data <- split(choice_data, choice_data$respondent_id)"
"0",""
"0","# Create a list of matrices for choices and attributes for each respondent"
"0","choice_list <- lapply(resp_data, function(df) {"
"0","  y <- df$choice  # dependent variable"
"0","  X <- as.matrix(df[, c(""pension"", ""gender_equality"", ""salary_equality"", "
"0","                        ""environmental_impact"", ""firearms"", ""living_wage"", "
"0","                        ""labor_rights"", ""faith_morality"")])  # independent variables"
"0","  list(y = y, X = X)"
"0","})"
"0",""
